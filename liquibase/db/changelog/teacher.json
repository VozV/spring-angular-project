{
  "databaseChangeLog": [
    {
      "changeSet": {
        "id": "20200621-00",
        "author": "samoylov",
        "preConditions": [
          {
            "onFail": "MARK_RAN",
            "not": {
              "sequenceExists": {
                "sequenceName": "teacher_id_seq",
                "schemaName": "public"
              }
            }
          }
        ],
        "changes": [
          {
            "createSequence": {
              "sequenceName": "teacher_id_seq",
              "dataType": "int",
              "schemaName": "public"
            }
          }
        ],
        "rollback": {
          "dropSequence": {
            "sequenceName": "student_id_seq",
            "schemaName": "public"
          }
        }
      }
    },
    {
      "changeSet": {
        "id": "20200621-01",
        "author": "samoylov",
        "preConditions": [
          {
            "onFail": "MARK_RAN",
            "not": {
              "tableExists": {
                "tableName": "teacher",
                "schemaName": "public"
              }
            }
          }
        ],
        "comment": "Создание таблицы teacher",
        "changes": [
          {
            "createTable": {
              "tableName": "teacher",
              "columns": [
                {
                  "column": {
                    "name": "id",
                    "type": "int",
                    "constraints": {
                      "primaryKey": true,
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "idd",
                    "type": "int",
                    "constraints": {
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "first_name",
                    "type": "varchar(50)",
                    "constraints": {
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "last_name",
                    "type": "varchar(50)",
                    "constraints": {
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "middle_name",
                    "type": "varchar(50)"
                  }
                },
                {
                  "column": {
                    "name": "passport",
                    "type": "varchar(15)"
                  }
                },
                {
                  "column": {
                    "name": "birth_date",
                    "type": "timestamp(0)",
                    "constraints": {
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "create_date",
                    "type": "timestamp(0)",
                    "constraints": {
                      "nullable": false
                    }
                  }
                },
                {
                  "column": {
                    "name": "delete_date",
                    "type": "timestamp(0)"
                  }
                },
                {
                  "column": {
                    "name": "status",
                    "type": "varchar(10)"
                  }
                }
              ]
            }
          }
        ],
        "rollback": {
          "dropTable": {
            "tableName": "teacher",
            "schemaName": "public"
          }
        }
      }
    }
  ]
}
